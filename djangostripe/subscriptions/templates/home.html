{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mile High Diaries</title>

    <!-- Stripe & jQuery -->
    <script src="https://js.stripe.com/v3/"></script>
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Custom Velvet Noir Styles -->
    <style>
      :root {
        --velvet-wine: #5a0f2f;
        --noir-black: #0e0e0f;
        --champagne-gold: #d1b98e;
        --rose-smoke: #cba6a0;
        --pearl-white: #f4f2ef;
      }

      body {
        background-color: var(--noir-black);
        color: var(--pearl-white);
      }

      .bg-velvet {
        background-color: var(--velvet-wine) !important;
      }
      .bg-noir {
        background-color: var(--noir-black) !important;
      }
      .bg-rose {
        background-color: var(--rose-smoke) !important;
      }

      .text-gold {
        color: var(--champagne-gold) !important;
      }
      .text-pearl {
        color: var(--pearl-white) !important;
      }
      .text-velvet {
        color: var(--velvet-wine) !important;
      }
      .text-rose {
        color: var(--rose-smoke) !important;
      }

      .border-gold {
        border-color: var(--champagne-gold) !important;
      }

      .btn-velvet {
        background-color: var(--velvet-wine);
        color: var(--pearl-white);
        border: 2px solid var(--velvet-wine);
        transition: all 0.3s ease;
      }
      .btn-velvet:hover {
        background-color: var(--champagne-gold);
        color: var(--noir-black);
        border-color: var(--champagne-gold);
      }

      .btn-gold {
        background-color: var(--champagne-gold);
        color: var(--noir-black);
        border: 2px solid var(--champagne-gold);
        transition: all 0.3s ease;
      }
      .btn-gold:hover {
        background-color: var(--velvet-wine);
        color: var(--pearl-white);
        border-color: var(--velvet-wine);
      }

      .card-rose {
        background-color: var(--rose-smoke);
        color: var(--pearl-white);
      }
      .card-velvet {
        background-color: var(--velvet-wine);
        color: var(--pearl-white);
      }

      /* Navbar link hover effects */
      .nav-hover {
        transition: all 0.3s ease;
      }

      .nav-hover:hover {
        color: var(--champagne-gold) !important; /* Gold on hover */
        background-color: var(
          --velvet-wine
        ); /* Optional subtle velvet background */
        border-radius: 0.25rem; /* Slightly rounded for effect */
        padding-left: 0.5rem;
        padding-right: 0.5rem;
      }

      footer {
        background-color: var(--noir-black);
        color: var(--rose-smoke);
      }
    </style>

    <script src="{% static 'main.js' %}"></script>
  </head>

  <body class="bg-noir text-pearl">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-velvet shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold text-pearl" href="">Mile High Diaries</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link active text-pearl nav-hover" aria-current="page" href="{% url 'about' %}">About Me</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-pearl nav-hover" href="{% url 'posts' %}">Stories</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


    <!-- Subscription Section -->
    {% if subscription.status == "active" %}
    <div class="container mt-5">
      <h4 class="mb-4">Your Subscription:</h4>
      <div class="card card-velvet shadow-sm" style="max-width: 20rem">
        <div class="card-body">
          <h5 class="card-title">{{ product.name }}</h5>
          <p class="card-text">{{ product.description }}</p>
          <a href="{% url 'billing_portal' %}" class="btn btn-gold mt-3 w-100"
            >Manage Subscription</a
          >
        </div>
      </div>
    </div>
    {% else %}

    <!-- Pricing Header -->
    <div class="pricing-header p-3 pb-md-4 mx-auto text-center"
     style="max-width: 700px;">

    <h1 class="display-4 fw-normal text-pearl">
        Pricing
    </h1>

    <p class="fs-5 text-rose">
        Step into a world of passion, intrigue, and intimate adventure with 
        exclusive erotic stories inspired by over 15 years of travelling the 
        world as cabin crew. Each tale blends desire, suspense, and 
        irresistible connection — all wrapped in the glamour of life at 
        30,000 feet. Unlock it all with full premium access.
    </p>

</div>



    <!-- Pricing Cards -->
    <main class="container">
      <div
        class="row row-cols-1 row-cols-md-3 g-4 text-center justify-content-center"
      >
        <div class="col">
          <div class="card shadow-sm h-100">
            <div class="card-header card-velvet py-3">
              <h4 class="my-0 fw-normal text-pearl">Premium</h4>
            </div>
            <div class="card-body card-rose d-flex flex-column">
              <h1 class="card-title pricing-card-title text-gold">
                £20 <small class="text-pearl fw-light fs-6">/yr</small>
              </h1>
              <ul class="list-unstyled mt-3 mb-4 text-pearl">
                <li>✔ Access to all stories</li>
                <li>✔ Regular story updates</li>
              </ul>
              <button
                type="submit"
                class="btn btn-gold w-100 mt-auto"
                id="submitBtn"
              >
                Subscribe
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>
    {% endif %}

    <!-- Footer -->
    <footer class="text-center mt-5 py-4">
      &copy; 2025 Mile High Diaries. All rights reserved.
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
